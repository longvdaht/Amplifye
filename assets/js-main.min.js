class ComponentAccordion extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",this.handleClick.bind(this)),this.refreshAccordion=this.refreshAccordion.bind(this),this.classList.contains("is-active")&&this.expandAccordion(this)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}refreshAccordion(e){const t=e.querySelector(".js-accordion-content");this.adjustHeight(t,e.classList.contains("is-active"))}handleClick(e){const t=e.target.closest(".js-accordion-toggle");if(!t)return;const o=t.closest(".c-accordion"),s=o.classList.contains("is-close-siblings");this.toggleAccordion(o,s)}toggleAccordion(e,t){if(!e)return;const o=e.classList.contains("is-active");t&&getSiblings(e).forEach((e=>{e.classList.contains("is-active")&&this.collapseAccordion(e)})),o?this.collapseAccordion(e):this.expandAccordion(e)}expandAccordion(e){const t=e.querySelector(".js-accordion-content");t&&(e.classList.add("is-active"),e.setAttribute("aria-expanded",!0),t.setAttribute("aria-hidden",!1),this.adjustHeight(t,!0))}collapseAccordion(e){const t=e.querySelector(".js-accordion-content");t&&(e.classList.remove("is-active"),e.setAttribute("aria-expanded",!1),t.setAttribute("aria-hidden",!0),this.adjustHeight(t,!1))}adjustHeight(e,t){if(!e)return;const o=()=>{e.style.height=t?"auto":"",e.removeEventListener("transitionend",o)};t?(e.style.height="0",e.offsetHeight,e.style.height=e.scrollHeight+"px"):(e.style.height=e.scrollHeight+"px",e.offsetHeight,e.style.height="0"),e.addEventListener("transitionend",o)}}customElements.define("c-accordion",ComponentAccordion);class ComponentSlider extends HTMLElement{constructor(){super(),this.viewportNode=this.querySelector(".js-embla-viewport"),this.prevButtonNode=this.querySelector(".js-embla-button-prev"),this.nextButtonNode=this.querySelector(".js-embla-button-next"),this.dotsNode=this.querySelector(".js-embla-dots"),this.progressNode=this.querySelector(".js-progress-bar"),this.slideCardNodes=this.querySelectorAll(".c-slider__slide"),this.isVertical="true"===this.dataset.emblaVertical,this.enableSync="true"===this.dataset.emblaSync,this.enableClickToSlide="true"===this.dataset.emblaClickToSlide,this.enableWheel="true"===this.dataset.emblaWheel,this.enableFade="true"===this.dataset.emblaFade,this.enableAutoHeight="true"===this.dataset.emblaAutoHeight,this.enableAutoplay="true"===this.dataset.emblaAutoplay;const e=this.hasAttribute("data-embla-delay")?parseInt(this.dataset.emblaDelay):4e3,t=EmblaCarouselAutoplay({playOnInit:this.enableAutoplay,delay:e,stopOnInteraction:!1,stopOnMouseEnter:!0});this.enableAutoScroll="true"===this.dataset.emblaAutoScroll;const o=this.hasAttribute("data-embla-scroll-speed")?parseInt(this.dataset.emblaScrollSpeed):2,s=this.hasAttribute("data-embla-scroll-delay")?parseInt(this.dataset.emblaScrollDelay):0,i="true"===this.dataset.emblaScrollBackward?"backward":"forward",a=EmblaCarouselAutoScroll({playOnInit:this.enableAutoScroll,speed:o,startDelay:s,direction:i,stopOnInteraction:!1,stopOnMouseEnter:!1}),n=[EmblaCarouselClassNames(),...this.enableWheel?[EmblaCarouselWheelGestures()]:[],...this.enableAutoplay?[t]:[],...this.enableAutoplay?[t]:[],...this.enableAutoScroll?[a]:[],...this.enableFade?[EmblaCarouselFade()]:[],...this.enableAutoHeight?[EmblaCarouselAutoHeight()]:[]],r={axis:this.isVertical?"y":"x",...JSON.parse(this.dataset.emblaSlider.replace(/'/g,'"').trim())};vs.isTouchDevice&&this.closest(".s-data__blocks")&&(r.watchDrag=!1),this.embla=EmblaCarousel(this.viewportNode,r,n),this.slideNodes=this.embla.slideNodes(),1===this.slideNodes.length&&(this.classList.add("is-inactive"),this.embla.destroy())}connectedCallback(){this.initializeNavigation()}addTogglePrevNextBtnsActive=(e,t,o)=>{const s=()=>{e.canScrollPrev()?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled"),e.canScrollNext()?o.removeAttribute("disabled"):o.setAttribute("disabled","disabled")};return e.on("select",s).on("init",s).on("reInit",s),()=>{t.removeAttribute("disabled"),o.removeAttribute("disabled")}};addPrevNextBtnsClickHandlers=(e,t,o)=>{const s=()=>{e.scrollPrev()},i=()=>{e.scrollNext()};t.addEventListener("click",s,!1),o.addEventListener("click",i,!1);const a=this.addTogglePrevNextBtnsActive(e,t,o);return()=>{a(),t.removeEventListener("click",s,!1),o.removeEventListener("click",i,!1)}};addDotBtnsAndClickHandlers=(e,t)=>{let o=[];const s=()=>{t.innerHTML=e.scrollSnapList().map(((e,t)=>`<button class="embla__dot c-slider__dot increase-target-size" type="button" data-trigger-sync=${t} aria-label="Jump to slide ${t}"></button>`)).join("");o=Array.from(t.querySelectorAll(".embla__dot")),o.forEach(((t,o)=>{t.addEventListener("click",(()=>(t=>{e.scrollTo(t)})(o)),!1)}))},i=()=>{const t=e.previousScrollSnap(),s=e.selectedScrollSnap();o[t].classList.remove("is-active"),o[s].classList.add("is-active")},a=()=>{const t=e.internalEngine();o.length<=1?(this.dotsNode.classList.add("is-hidden"),this.viewportNode.classList.remove("is-draggable"),t.dragHandler.destroy()):(this.dotsNode.classList.remove("is-hidden"),this.viewportNode.classList.add("is-draggable"),t.dragHandler.init())};return e.on("init",s).on("reInit",s).on("init",i).on("reInit",i).on("select",i).on("reInit",a).on("init",a),()=>{t.innerHTML=""}};addClickToSlideHandler=(e,t)=>{const o=()=>e.scrollNext();return t.forEach((e=>e.addEventListener("click",o,!1))),()=>{t.forEach((e=>e.removeEventListener("click",o,!1)))}};setupProgressBar=(e,t)=>({applyProgress:()=>{const o=Math.max(0,Math.min(1,e.scrollProgress()));t.style.transform=`translate3d(${100*o}%,0px,0px)`},removeProgress:()=>{t.removeAttribute("style")}});syncSliderWithTrigger=()=>{};initializeNavigation=()=>{if(1!==this.slideNodes.length){if(this.prevButtonNode&&this.nextButtonNode){const e=this.addPrevNextBtnsClickHandlers(this.embla,this.prevButtonNode,this.nextButtonNode);this.embla.on("destroy",e)}if(this.progressNode){const{applyProgress:e,removeProgress:t}=this.setupProgressBar(this.embla,this.progressNode);this.embla.on("init",e).on("reInit",e).on("scroll",e).on("slideFocus",e).on("destroy",t)}if(this.dotsNode){const e=this.addDotBtnsAndClickHandlers(this.embla,this.dotsNode);this.embla.on("destroy",e)}if(this.enableClickToSlide){const e=this.addClickToSlideHandler(this.embla,this.slideCardNodes);this.embla.on("destroy",e)}this.enableSync&&(this.embla.on("select",(()=>{const e=this.dotsNode.querySelector(".c-slider__dot.is-active"),t=e.closest(".js-slider-sync");if(e){const o=t.querySelector(`[data-trigger="${e.dataset.triggerSync}"]`),s=t.querySelector(`[data-target="${e.dataset.triggerSync}"]`);getSiblings(o).forEach((e=>{e.classList.remove("is-active")})),getSiblings(s).forEach((e=>{e.classList.remove("is-active")})),o.classList.add("is-active"),s.classList.add("is-active"),o.parentElement&&(o.parentElement.scrollLeft=o.offsetLeft-40)}})),on("body","click",".js-slider-sync [data-trigger]",(e=>{const t=e.target.closest("[data-trigger]").dataset.trigger;this.embla.scrollTo(parseInt(t))})))}}}customElements.define("c-slider",ComponentSlider);const globalOverlay=document.querySelector(".js-g-overlay"),globalPopup=document.querySelector(".js-g-popup"),initHeader=()=>{const e=document.querySelector(".js-mobile-menu"),t=(e=!1)=>{globalOverlay.setAttribute("tabindex",e?0:-1),globalOverlay.setAttribute("aria-hidden",!e)};on("body","click",".js-mobile-menu-toggle",(o=>{const s=!root.classList.contains("is-mobile-menu-active");((t=!1)=>{root.classList.toggle("is-mobile-menu-active",t),e.classList.toggle("is-active",t),e.setAttribute("aria-hidden",!t)})(s),t(s),s||t()}))},playTargetVideo=(e,t,o,s=!1,i=!1)=>{e?(e=>{const t=()=>{e.muted=!(i&&s);const t=e.play();t&&t.catch((e=>{"AbortError"!==e.name&&console.error("Play error:",e)}))};e.readyState>=3?t():e.addEventListener("canplay",(()=>{t()}),{once:!0})})(e):o&&((e,t)=>{if("vimeo"===t)if(e&&"function"==typeof e.play){const t=!(i&&s);e.setMuted(t).then((()=>e.play())).catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error playing Vimeo video:",e)}))}else console.warn("Vimeo player not fully initialized or play methods unavailable.");else"youtube"===t&&("function"==typeof e.playVideo&&"function"==typeof e.mute?(i&&s?e.unMute():e.mute(),e.playVideo()):console.warn("YouTube player not fully initialized or methods unavailable."))})(o,t)},pauseTargetVideo=(e,t,o)=>{e?(e=>{e.pause(),e.muted=!0})(e):o&&((e,t)=>{"vimeo"===t?e&&"function"==typeof e.pause?e.pause().then((()=>e.setMuted(!0))).catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error pausing Vimeo video:",e)})):console.warn("Vimeo player not fully initialized or pause methods unavailable."):"youtube"===t&&("function"==typeof e.pauseVideo&&"function"==typeof e.mute?(e.pauseVideo(),e.mute()):console.warn("YouTube player not fully initialized or methods unavailable."))})(o,t)};function hasAudio(e){return e.mozHasAudio||Boolean(e.webkitAudioDecodedByteCount)||Boolean(e.audioTracks?.length)}function hasVideoGotAudio(e){return new Promise(((t,o)=>{const s=Object.assign(document.createElement("video"),{muted:!0,crossOrigin:"anonymous",preload:"auto",src:e});s.addEventListener("error",(()=>o("Video load error")),{once:!0}),s.addEventListener("canplay",(()=>{s.currentTime=Math.min(s.duration||1,.99)}),{once:!0}),s.addEventListener("seeked",(()=>{t(s.mozHasAudio||Boolean(s.webkitAudioDecodedByteCount)||Boolean(s.audioTracks?.length))}),{once:!0})}))}async function checkVimeoAudio(e){try{const t=await fetch(`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${e}`),o=await t.json();if(o.duration&&o.duration>5)return!0;const s=o.title?.toLowerCase()||"",i=o.description?.toLowerCase()||"";return!(s.includes("gif")||s.includes("silent")||i.includes("no audio")||i.includes("silent"))}catch(e){return console.warn("Could not fetch Vimeo video info:",e),!0}}const handleVideoPlayback=(e,t,o)=>{const s=e.querySelector("video"),i=e.querySelector(".js-external-video")?.dataset.videoHost,a=e.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),n=a?.classList.contains("js-video-mute");(s||o)&&(t?playTargetVideo(s,i,o,n,a):pauseTargetVideo(s,i,o))},handleVideoVisibility=(e,t)=>{const o=t.classList.contains("is-autoplay"),s=o&&e,i=t.querySelector(".js-external-video")?.dataset.videoId,a=allPlayersObj[i];handleVideoPlayback(t,s,a),t.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause").forEach((e=>e.classList.remove("is-active"))),e&&t.querySelector(o?".js-video-pause":".js-video-play")?.classList.add("is-active");const n=t.querySelectorAll("video source"),r=Array.from(n).find((e=>"video/mp4"===e.type&&e.dataset?.src))?.dataset?.src,l=t.querySelector('iframe[data-video-host="vimeo"]');if(r&&/\.mp4($|\?)/.test(r))hasVideoGotAudio(r).then((o=>{!0===o&&e&&t.querySelector(".js-video-unmute")?.classList.add("is-active")})).catch((e=>{console.warn("Audio detection error:",e)}));else if(l){"true"===l.dataset.videoAudio&&e&&t.querySelector(".js-video-unmute")?.classList.add("is-active")}},loadLazyVideo=e=>{if(e.dataset.loaded)return;e.querySelectorAll("source").forEach((e=>{!e.src&&e.dataset.src&&(e.src=e.dataset.src)})),0===e.readyState&&(e.load(),e.dataset.loaded="true")},initVideo=()=>{document.querySelectorAll(".c-video").forEach((e=>{new IntersectionObserver((([t])=>{if(handleVideoVisibility(t.isIntersecting,e),t.isIntersecting){const t=e.querySelector("video.js-lazy-video");t&&loadLazyVideo(t)}}),{root:null,threshold:[.4]}).observe(e)}));const e=(e,t)=>{const o=e.target.closest(`.js-video-${t}`),s=o.closest(".c-video"),i=s.querySelector("video"),a=s.querySelector(".js-external-video"),n=s.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),r=n?.classList.contains("js-video-mute"),l=a?.dataset.videoHost,c=a?.dataset.videoId,d=allPlayersObj[c];"play"===t?playTargetVideo(i,l,d,r,n):"pause"===t?pauseTargetVideo(i,l,d):"mute"!==t&&"unmute"!==t||("youtube"===l?"function"==typeof d.unMute?d.isMuted()?d.unMute():d.mute():console.warn("YouTube player not fully initialized or methods unavailable."):"vimeo"===l?d&&"function"==typeof d.getMuted?d.getMuted().then((e=>d.setMuted(!e))).catch((e=>{console.error("Error toggling Vimeo mute:",e)})):console.warn("Vimeo player not fully initialized or getMuted methods unavailable."):i&&(i.muted="mute"===t)),"play"===t||"pause"===t?(o.classList.remove("is-active"),s.querySelector(".js-video-"+("play"===t?"pause":"play"))?.classList.add("is-active")):"mute"!==t&&"unmute"!==t||(s.querySelector(".js-video-mute")?.classList.toggle("is-active","unmute"===t),s.querySelector(".js-video-unmute")?.classList.toggle("is-active","mute"===t))};on("body","click",".js-video-mute",(t=>e(t,"mute"))),on("body","click",".js-video-unmute",(t=>e(t,"unmute"))),on("body","click",".js-video-play",(t=>e(t,"play"))),on("body","click",".js-video-pause",(t=>e(t,"pause")))},handlePopupClose=()=>{document.querySelectorAll('[data-popup-target] .js-external-video[data-video-host="vimeo"]').forEach((e=>{const t=e.dataset.videoId,o=allPlayersObj[t];o&&"function"==typeof o.pause&&o.pause().then((()=>o.setCurrentTime(0))).then((()=>o.setMuted(!0))).catch((e=>{console.warn("Error resetting Vimeo video:",e)}))}))},handlePopupOpen=()=>{const e=document.querySelector('.g-popup .js-external-video[data-video-host="vimeo"]');if(e){const t=e.dataset.videoId;try{const o=new Vimeo.Player(e);o.ready().then((()=>{allPlayersObj[t]=o})).catch((e=>{console.error("Vimeo player ready error:",e)}))}catch(e){console.error("Error creating Vimeo player:",e)}}};document.addEventListener("click",(e=>{e.target.matches("[data-popup-close]")?document.querySelectorAll('[data-popup-target] .js-external-video[data-video-host="vimeo"]').forEach((e=>{const t=e.dataset.videoId,o=allPlayersObj[t];o&&"function"==typeof o.pause&&o.pause().then((()=>o.setCurrentTime(0))).then((()=>o.setMuted(!0))).catch((e=>{console.warn("Error resetting Vimeo video:",e)}))})):e.target.closest("[data-popup-trigger]")&&handlePopupOpen()}));const initPDP=()=>{const e=document.querySelector(".product-hero");(()=>{function e(e,t,o=300){return new Promise((s=>{const i=window.getComputedStyle(e);let a;a="none"===i.maxHeight||"0px"===i.maxHeight?e.scrollHeight:parseFloat(i.maxHeight),(isNaN(a)||a<0)&&(a=e.scrollHeight);const n=performance.now();requestAnimationFrame((function i(r){const l=r-n,c=Math.min(l/o,1),d=1-Math.pow(1-c,4),u=a+(t-a)*d;e.style.maxHeight=u+"px",c<1?requestAnimationFrame(i):(t>0&&(e.style.maxHeight="none"),s())}))}))}function t(t,o){t.querySelectorAll("[data-selling-plan-option]").forEach((t=>{const s=t.getAttribute("data-selling-plan-option"),i=t.querySelector("[data-collapsible-content]"),a=t.querySelector('select[name="selling_plan"]');if(s===o){if(t.classList.add("is-expanded"),i){e(i,i.scrollHeight)}a&&(a.disabled=!1)}else t.classList.remove("is-expanded"),i&&e(i,0),a&&(a.disabled=!0)}))}document.querySelectorAll("[data-selling-plan-container]").forEach((o=>{const s=o.querySelectorAll('input[type="radio"]'),i=o.querySelectorAll('input[type="checkbox"]');s.forEach((e=>{e.addEventListener("change",(function(){this.checked&&t(o,this.value)}))})),i.forEach((t=>{t.addEventListener("change",(function(){const t=o.querySelector(`[data-selling-plan-option="${this.value}"]`),s=t.querySelector("[data-collapsible-content]"),i=t.querySelector('select[name="selling_plan"]');if(this.checked){if(t.classList.add("is-expanded"),s){e(s,s.scrollHeight)}i&&(i.disabled=!1)}else t.classList.remove("is-expanded"),s&&e(s,0),i&&(i.disabled=!0)}))})),function(e){const o=e.querySelector('input[type="radio"]:checked'),s=e.querySelectorAll('input[type="checkbox"]:checked'),i=e.querySelectorAll("[data-selling-plan-option]");i.forEach((e=>{const t=e.querySelector("[data-collapsible-content]");t&&(t.style.maxHeight="0px"),e.classList.remove("is-expanded")})),o&&t(e,o.value),s.forEach((t=>{const o=e.querySelector(`[data-selling-plan-option="${t.value}"]`);if(o){const e=o.querySelector("[data-collapsible-content]"),t=o.querySelector('select[name="selling_plan"]');if(o.classList.add("is-expanded"),e){e.style.maxHeight="none";const t=e.scrollHeight;e.style.maxHeight=t+"px"}t&&(t.disabled=!1)}})),o||0!==s.length||i.forEach((e=>{const t=e.querySelector("[data-collapsible-content]"),o=e.querySelector('select[name="selling_plan"]');e.classList.remove("is-expanded"),t&&(t.style.maxHeight="0px"),o&&(o.disabled=!0)}))}(o)}))})();const t=document.querySelector(".js-purchase-bar");if(new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?t.classList.remove("is-visible"):t.classList.add("is-visible")}))}),{root:null,threshold:.1,rootMargin:"-70% 0px 0px 0px"}).observe(e),t){(()=>{const o=e.querySelector(".js-subscription-info");if(o){const e=o.cloneNode(!0);t.querySelector(".js-sync-subscription")?.appendChild(e)}const s=e.querySelector(".js-one-time-info");if(s){const e=s.cloneNode(!0);t.querySelector(".js-sync-one-time")?.appendChild(e)}})();const o=t.querySelector(".js-sync-subscription input"),s=t.querySelector(".js-sync-one-time input");on("body","change","[data-selling-plan-option]",(e=>{const t=e.target.closest("[data-selling-plan-option]")?.dataset.sellingPlanOption;"subscription"===t?(o.checked=!0,s.checked=!1):"one-time"===t&&(o.checked=!1,s.checked=!0)})),on("body","change",".js-sync-subscription input, .js-sync-one-time input",(e=>{const t=e.target.value;document.querySelectorAll(`[data-selling-plan-option='${t}'] input`).forEach((e=>{e.checked||e.click()}))}))}},initBenefitsAccordion=()=>{const e=document.querySelector(".js-benefits-accordion-container");if(!e)return;const t=()=>{const t=Math.max(...[...e.querySelectorAll(".c-accordion__toggle")].map((e=>e.offsetHeight)));[...e.querySelectorAll(".c-accordion")].forEach((e=>{e.style.minHeight=`${t}px`}))};t();const o=debounce(t,200);window.addEventListener("resize",o)},initShareButton=()=>{if(!vs.isTouchDevice)return;const e=document.querySelector(".js-share-button");if(!e)return;e.classList.remove("is-hoverable");const t=e.querySelector(".article-content__hero__share__content");e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),t.classList.toggle("is-active")})),document.addEventListener("click",(o=>{t.classList.contains("is-active")&&!e.contains(o.target)&&t.classList.remove("is-active")}))};let allPlayersObj={};window.onYouTubeIframeAPIReady=()=>{document.querySelectorAll('.js-external-video[data-video-host="youtube"]').forEach((e=>{const t=e.dataset.videoId,o=e.dataset.originalVideoId,s=new YT.Player(e,{videoId:o,playerVars:{playsinline:1}});allPlayersObj[t]=s}))},window.addEventListener("load",(()=>{document.querySelectorAll('.js-external-video[data-video-host="vimeo"]').forEach((e=>{const t=e.dataset.videoId;if(Vimeo?.Player)try{const o=new Vimeo.Player(e);o.ready().then((()=>{allPlayersObj[t]=o})).catch((e=>{console.error("Vimeo player ready error:",e)}))}catch(e){console.error("Error creating Vimeo player:",e)}else console.warn("Vimeo Player API not loaded")})),setTimeout((()=>{initVideo()}),800)}));const initArticleCount=()=>{const e=document.querySelectorAll(".js-article-read-time");e&&e?.length>0&&e.forEach((function(e){const t=(e.dataset.content||"").split(/\s+/).length,o=Math.max(1,Math.round(t/200));e.textContent=`${o} min read`}))};class CopyLinkButton extends HTMLElement{constructor(){super(),this.handleClick=this.handleClick.bind(this)}connectedCallback(){this.textContent=this.textContent||"Link",this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}handleClick(){const e=this.textContent;navigator.clipboard.writeText(window.location.href).then((()=>{this.textContent="Copied",setTimeout((()=>{this.textContent=e}),500)})).catch((e=>{console.error("Failed to copy link:",e)}))}}customElements.define("copy-link-btn",CopyLinkButton);const initMatch=()=>{on("body","click","[data-trigger]",(e=>{let t=e.target.closest("[data-trigger]");!function(e,t,o){getSiblings(e).forEach((e=>{e.classList.remove("is-active")})),o?e.classList.toggle("is-active"):e.classList.add("is-active");let s=document.querySelector(`[data-target="${e.dataset.trigger}"]`);if(s){if(t){const e=s.closest(".js-target-parent");getSiblings(e).forEach((e=>{e.querySelector("[data-target]").classList.remove("is-active")}))}else getSiblings(s).forEach((e=>{e.classList.remove("is-active")}));o?s.classList.toggle("is-active"):s.classList.add("is-active")}}(t,"true"===t.dataset.triggerParent||!1,"true"===t.dataset.triggerToggle||!1)})),on("body","click",".js-card-trigger",(e=>{e.target.closest(".js-card-trigger").closest(".js-card").classList.toggle("is-active")})),document.addEventListener("click",(function(e){if(!e.target.closest(".js-target-parent")){document.querySelectorAll(".js-target-parent [data-target]").forEach((e=>{e.classList.remove("is-active")}))}}))},initInfo=()=>{const e=document.querySelectorAll(".js-info"),t=document.querySelectorAll("[data-info]");if(!e.length||!t.length)return;const o=new Map;for(const e of t)o.set(e.dataset.info,e);for(const t of e){const e=t.querySelectorAll("strong");for(const t of e){const e=formatHandleize(t.textContent),s=o.get(e);if(s){const e=t.textContent.trim(),o=s.querySelector(".js-tooltip-trigger");let i="none";e===e.toUpperCase()?i="uppercase":e===e.toLowerCase()?i="lowercase":e.split(" ").every((e=>e[0]===e[0]?.toUpperCase()))&&(i="capitalize"),o&&(o.style.textTransform=i),t.replaceWith(s.cloneNode(!0))}}}},initPopup=()=>{function e(){root.classList.remove("is-popup-active"),globalPopup.setAttribute("aria-hidden",!0),globalPopup.setAttribute("tabindex",-1),globalOverlay.setAttribute("aria-hidden",!0),globalOverlay.setAttribute("tabindex",-1),scrollEnable(),setTimeout((()=>{globalPopup.innerHTML=""}),400)}on("body","click","[data-popup-trigger]",(e=>{if(e.target.closest(".js-video-control"))return;!function(e){getSiblings(e).forEach((e=>{e.classList.remove("is-active")})),e.classList.add("is-active");let t=document.querySelector(`[data-popup-target="${e.dataset.popupTrigger}"]`);globalPopup.innerHTML=t.innerHTML,root.classList.add("is-popup-active"),globalPopup.setAttribute("aria-hidden",!1),globalPopup.setAttribute("tabindex",0),globalOverlay.setAttribute("aria-hidden",!1),globalOverlay.setAttribute("tabindex",0),scrollDisable();const o=globalPopup.querySelector(".c-video");o&&(handleVideoVisibility(!0,o),o.querySelectorAll(".js-lazy-video").forEach((e=>{loadLazyVideo(e)})))}(e.target.closest("[data-popup-trigger]"))})),on("body","click","[data-popup-close], .js-g-overlay",(t=>{e()})),on("body","keydown","body",(t=>{"Escape"==t.key&&e()}))},initTooltip=()=>{on("body","click",".js-tooltip-trigger",(e=>{const t=e.target.closest(".js-tooltip");t.classList.toggle("is-active",!t.classList.contains("is-active")),document.querySelectorAll(".js-tooltip").forEach((e=>{e!=t&&e.classList.remove("is-active")}))})),on("body","mouseout",".js-tooltip",(e=>{e.target.closest(".js-tooltip").classList.remove("is-active")})),document.addEventListener("click",(function(e){if(!e.target.closest(".js-tooltip")){document.querySelectorAll(".js-tooltip.is-active").forEach((e=>{e.classList.remove("is-active")}))}}))},initFaqList=()=>{const e="https://amplifye.us-1.gladly.com",t="f6f7Pn3vQhahb6n5HFQcqQ",o=[];let s="";const i=document.querySelector(".js-faq-list"),a=parseInt(i.dataset.faqLimit,10)||12,n=i?.dataset?.emptyMessage||"No FAQs found.",r=document.querySelector("#template-accordion .c-accordion"),l=document.querySelector(".js-faq-search-input"),c=document.querySelector(".js-faq-search-clear"),d=document.querySelector(".js-faq-blinking-cursor");if(!i||!r)return void console.warn("FAQ container or template not found.");function u(){document.activeElement===l?d.style.display="none":d.style.display=""===l.value.trim()?"block":"none"}l?.addEventListener("input",u),l?.addEventListener("focus",u),l?.addEventListener("blur",u),u();const h=document.querySelector(".js-purchase-bar");function p(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("div").forEach((e=>{const t=document.createElement("p");t.className="t-b-1",t.innerHTML=e.innerHTML,e.replaceWith(t)})),t.querySelectorAll("p.t-b-1").forEach((e=>{1===e.childNodes.length&&e.firstChild.nodeType===Node.ELEMENT_NODE&&"BR"===e.firstChild.tagName&&e.replaceWith(e.firstChild)})),t.innerHTML}function m(e,t=!1){if(e=e.slice(0,a),i.innerHTML="",i.classList.remove("has-faq"),!Array.isArray(e)||0===e.length){const e=document.createElement("p");return e.className="f-h f-j-c t-h-4",e.textContent=n,void i.appendChild(e)}e.forEach((({id:e,name:o,bodyHtml:s})=>{const a=r.cloneNode(!0);if(a.querySelector(".c-accordion__title").innerHTML=o,a.querySelector(".c-accordion__content-interior").innerHTML=p(s),t&&e){const t=a.querySelector("button.js-accordion-toggle");t&&(t.dataset.answerId=e)}i.appendChild(a)})),i.classList.add("has-faq")}l?.addEventListener("focus",(()=>{vs.isTouchDevice&&h&&h.classList.remove("is-visible")})),l?.addEventListener("blur",(()=>{vs.isTouchDevice&&h&&h.classList.add("is-visible")}));const y=debounce((function(o){const i=`${e}/api/v1/orgs/${t}/answers-search?q=${encodeURIComponent(o)}`;fetch(i).then((e=>{if(!e.ok)throw new Error(`Search error: ${e.status}`);return e.json()})).then((e=>{o===s&&m(e,!0)})).catch((e=>console.error("FAQ Search error:",e)))}),300);l?.addEventListener("input",(e=>{const t=e.target.value.trim();s=t,t.length>2?(c.classList.add("is-visible"),y(t)):(c.classList.remove("is-visible"),m(o))})),c?.addEventListener("click",(e=>{e.preventDefault(),l.value="",s="",c.classList.remove("is-visible"),m(o),u()})),i.addEventListener("click",(async o=>{const s=o.target.closest(".js-accordion-toggle[data-answer-id]");if(!s)return;const i=s.closest(".c-accordion"),a=i.querySelector(".c-accordion__content-interior"),n=s.dataset.answerId;if(s.dataset.loaded)i.refreshAccordion(i);else{a.innerHTML="<p>Loading...</p>",i.refreshAccordion(i);try{const o=`${e}/api/v1/orgs/${t}/answers/${n}`,r=await fetch(o);if(!r.ok)throw new Error(r.status);const l=await r.json();a.innerHTML=p(l.bodyHtml)||"<p>No content</p>",s.dataset.loaded=!0,requestAnimationFrame((()=>i.refreshAccordion(i)))}catch(e){console.error("FAQ detail error:",e),a.innerHTML="<p>Failed to load FAQ.</p>",requestAnimationFrame((()=>i.refreshAccordion(i)))}}})),fetch(`${e}/api/v1/orgs/${t}/answers`).then((e=>{if(!e.ok)throw new Error(`API error: ${e.status}`);return e.json()})).then((e=>{o.splice(0,o.length,...e||[]),m(o)})).catch((e=>console.error("FAQ Fetch error:",e)))};function safeRun(e){try{e&&e()}catch(t){console.error(`Init error in ${e.name}:`,t)}}Gladly.init({appId:"amplifye.com"}).then((function(){on("body","click",".js-gladly-trigger",(e=>{e.target.classList.contains("gladly-close")?Gladly.close():Gladly.show()}))})).catch((function(e){console.error({error:e})})),document.addEventListener("DOMContentLoaded",(()=>{[initHeader,initVideo,initArticleCount,initMatch,initPopup,initTooltip,initInfo,initBenefitsAccordion,initShareButton].forEach(safeRun),document.querySelector(".template-product")&&safeRun(initPDP),document.querySelector(".js-faq-list")&&safeRun(initFaqList)})),ariaFocusManager.init();