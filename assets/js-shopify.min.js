const global={sanitizePrice:function(t){return siteMoneyFormat.includes("amount_with_comma_separator")?t.replaceAll(/\.|\,/g,(function(t){return","==t?".":","})):t},formatSplitPrice:function(t){if(!t)return!1;const e=this.sanitizePrice(t).match(/([^0-9]*)([0-9,]+[\\\\.\\\\,]?[0-9]*)([^0-9]*)/);return{symbol:e[1],value:parseFloat(e[2].replace(/[\\\\,]/g,"")),currency:e[3]}},formatShopifyMoney:function(t){const e=Number(t).toFixed(2),n=siteMoneyFormat.includes("amount_with_comma_separator")?formatNumberEuro(e).replace(",00",""):formatNumberCommas(e).replace(".00","");return siteMoneyFormat.replace(/\{\{(.*?)\}\}/gs,n)}},cWysiwygShopify={init:function(){document.querySelector(".shopify-policy__body")?.firstElementChild.classList.add("wysiwyg","wysiwyg-page"),document.querySelectorAll(".wysiwyg meta[charset], .wysiwyg-page meta[charset]").forEach((t=>t.remove()))}},cItemVariants={updateVariantPillCurrentSelection:function(t,e,n){const r=t.closest(".js-variant-group").querySelector(".js-variant-pills-selected");r&&(r.dataset.label=e,r.dataset.labelCurrent=n)},init:function(){on("body","mouseover",".js-variant-group .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector");this.updateVariantPillCurrentSelection(e,e.value,e.dataset.label)})),on("body","mouseout",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector"),n="INPUT"==e.tagName,r=document.querySelector(`[name="${e.name}"]${n?":checked":""}`);this.updateVariantPillCurrentSelection(e,"",r?r.dataset.label:"")}))}},cItemSellingPlan={updatePrice:function(t,e){t.querySelectorAll(".js-price-regular").forEach((t=>{t.classList.contains("js-not-update-price")||(t.textContent=e)}))},init:function(){on("body","change",'.c-item-selling-plan input[type="radio"][name*="selling-plan-"]',(t=>{const e=t.target.closest('input[type="radio"][name*="selling-plan-"]'),n=e.dataset.itemSellingPlanPrice;document.querySelectorAll(".c-item-selling-plan").forEach((t=>{const r=t.closest(".c-product-form"),i=t.querySelector('[name="selling_plan"]');t.classList.toggle("is-active","subscription"==e.value),i.disabled="subscription"!=e.value,t.querySelector(`input[value="${e.value}"]`).checked=!0,this.updatePrice(r,n)}))})),on("body","change",'.c-item-selling-plan [name="selling_plan"]',(t=>{document.querySelectorAll('.c-item-selling-plan [name="selling_plan"]').forEach((e=>{e!=t.target&&(e.value=t.target.value)}))}))}},cItemQuantity={updateQuantity:function(t,e){const n=t.querySelector('input[name="quantity"]'),r=t.querySelector('[data-trigger="decrease"]'),i=t.querySelector('[data-trigger="increase"]'),o=parseInt(n.value),a=e?Math.min(1,parseInt(n.max)-o):Math.max(-1,parseInt(n.min)-o),s=o+(void 0!==e?a:0),c="true"==n.dataset.leadingZero?formatPad(s):s;if(r.disabled=s<=n.min,i.disabled=s>=n.max,c!=n.value){n.value=c;const t=new Event("change");n.dispatchEvent(t)}},init:function(){on("body","click",".c-item-quantity [data-trigger]",(t=>{const e=t.target.closest("[data-trigger]"),n=e.closest(".c-item-quantity");this.updateQuantity(n,"increase"==e.dataset.trigger)}))}},cProductForm={saveVariantSelection:function(t,e,n){t.querySelectorAll(".js-variant-selector").forEach((t=>{const n="INPUT"==t.tagName?!!t.checked&&t.value:t.value;n&&e.variantTitle.push(n)})),e.variantIndex=n.findIndex((t=>t.title===e.variantTitle.join(" / "))),e.variantObject=n[e.variantIndex]},updatePrice:function(t,e){t.querySelectorAll(".c-item-price").forEach((t=>{const n=parseFloat(t.dataset.regularPriceAdj)||1,r=t.querySelector(".js-price-regular"),i=e.price;if(r){const{value:t}=global.formatSplitPrice(i),e=global.formatShopifyMoney(t*n);r.innerText=e}const o=t.querySelector(".js-price-compare");if(o){const t=e.priceCompare,{value:n}=global.formatSplitPrice(t),r=global.formatShopifyMoney(n);o.innerText=t&&t!=i?r:""}}))},updateQuantity:function(t,e){const n=e.inventory,r=t.querySelector('input[name="quantity"]');r&&(r.max=n),parseInt(r.value)>n&&0!=n&&(r.value=n);const i=t.querySelector(".c-item-quantity");cItemQuantity.updateQuantity(i)},updateFormId:function(t,e){t.querySelector('input[name="id"]').value=e.id},updateFormSubmitState:function(t,e){const n=t.querySelector(".js-form-submit");e.inventory<=0?(t.dataset.available=!1,n.disabled=!0):(t.dataset.available=!0,n.disabled=!1)},updateUrl:function(t){window.history.replaceState({},"",`?variant=${t.id}`)},updateVariantDisabledState:function(t,e){const n=t.querySelectorAll(".js-variant-group"),r=e.filter((t=>t.inventory>0));if(n.length<=1)return!1;const i=Array.from(n).map((t=>{const e=t.querySelector("input.js-variant-selector"),n=t.querySelector(".js-variant-selector"+(e?":checked":""));return!(!n||""==n.value)&&n.value}));if(i.includes(!1))return!1;Array.from(n).forEach(((t,e)=>{const n=t.querySelector("input.js-variant-selector");t.querySelectorAll(".js-variant-selector"+(n?":not(:checked)":" option:not(:checked)")).forEach((t=>{const n=[...i];n[e]=t.value;const o=r.some((t=>{const e=n.join(" / ");return t.title===e}));t.disabled=!o,"OPTION"===t.tagName&&(t.innerText=`${t.value}${o?"":" - sold out"}`)}))}))},initGiftCard:function(t){const e=t.querySelector(".js-gift-card-fields");if(e){const t=e.querySelector(".js-recipient-date"),n=e.querySelector(".js-recipient-email"),r=e.querySelector(".js-recipient-name"),i=e.querySelector(".js-recipient-message");on("body","click",".js-gift-card-toggle",(o=>{o.target.checked?(e.classList.add("is-active"),n.required=!0):(e.classList.remove("is-active"),n.required=!1,n.value=null,t.value=null,i.value=null,r.value=null)}));const o=t=>{let e=t.getDate(),n=t.getMonth()+1;return e<10&&(e="0"+e),n<10&&(n="0"+n),t.getFullYear()+"-"+n+"-"+e},a=90;let s=new Date,c=new Date;c=new Date(c.setDate(c.getDate()+a)),s=o(s),c=o(c),t.setAttribute("min",s),t.setAttribute("max",c),on("body","input",".js-recipient-date",(e=>{const n=t.validity;n.rangeUnderflow?t.setCustomValidity("Date must be today or later."):n.rangeOverflow&&t.setCustomValidity("Date must be within 90 days from today.")}))}},init:function(){document.querySelectorAll(".c-product-form").forEach((t=>{if(!t.dataset.variantsJson)return!1;const e=validateJson(t.dataset.variantsJson.replace(/'/g,'"').trim());"true"==t.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(t,e);this.saveVariantSelection(t,{selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null},e),this.initGiftCard(t)})),on("body","change",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector").closest(".c-product-form"),n=validateJson(e.dataset.variantsJson.replace(/'/g,'"').trim()),r={selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null};e&&n&&this.saveVariantSelection(e,r,n);const i=r.variantObject;e&&i&&(this.updatePrice(e,i),this.updateQuantity(e,i),this.updateFormId(e,i),this.updateFormSubmitState(e,i),"true"==e.dataset.updateVariantUrl&&this.updateUrl(i),"true"==e.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(e,n))}))}},cCart={updateCartStats:function(){fetch("/cart.js").then((t=>t.json())).then((t=>{const e=t.item_count;document.querySelectorAll(".js-cart-item-count").forEach((t=>{t.innerText=e,t.classList.toggle("is-active",e>0)})),e>0?root.classList.remove("is-cart-empty"):root.classList.add("is-cart-empty"),document.querySelectorAll(".c-cart").forEach((t=>t.setAttribute("data-item-count",e)));const n=t.total_price/100,r=`${formatNumberCommas(n.toFixed(2)).replace(".00","")}`;document.querySelectorAll(".js-cart-total-price").forEach((t=>{t.innerText=`$${r}`}));const i=document.querySelector(".js-freeshipping-threshold");if(i){const e=parseFloat(t.total_price/100);this.updateFreeShipping(e,i)}})).catch((t=>{console.error("Error:",t)}))},updateCartContent:function(){const t=document.querySelectorAll(".c-cart");t.forEach((t=>t.classList.add("is-content-updating"))),this.updateCartStats(),fetch("/cart").then((t=>t.text())).then((e=>{const n=parseHtmlString(e);t.forEach((t=>{t.innerHTML=n.querySelector(".c-cart").innerHTML,t.classList.remove("is-content-updating")})),this.initLineItem(),this.initUpsell()})).catch((t=>{console.error("Error:",t)}))},getLineItem:function(t){const e=t.closest(".c-line-item");return{item:e,key:e.dataset.itemKey}},getItemData:function(t){const e=t.querySelector('[name="id"]').value,n=t.querySelector('[name="quantity"]')?.value||1,r=t.querySelector('[name="selling_plan"]:not(:disabled)'),i=r?r.value:null,o={};t.querySelectorAll('[name*="properties["]').forEach((t=>{const e=t.name.match(/\[(.*?)\]/)[1];t.value&&(o[e]=t.value)}));return{id:e,quantity:n,selling_plan:i,properties:o}},addItems:function({items:t,updateCartContent:e=!0,updateCartStats:n=!1,callback:r}){fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}).then((t=>t)).then((()=>{e&&this?.updateCartContent(),n&&this?.updateCartStats(),r&&r()})).catch((t=>{console.error("Error:",t)}))},updateLineItems:function({items:t,updateCartContent:e=!1,updateCartStats:n=!0,callback:r}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({updates:t})}).then((t=>{t.json()})).then((()=>{e&&this?.updateCartContent(),n&&this?.updateCartStats(),r&&r()})).catch((t=>{console.error("Error:",t)}))},isLineItemEventAttached:!1,initLineItem:function(t){const e=(t,e)=>{const n={};return n[t]=e,n};document.querySelectorAll('.c-line-item input[name="quantity"]').forEach((t=>{t.addEventListener("change",(t=>{const n=t.target.closest('input[name="quantity"]'),r=parseInt(n.value)||1,{key:i}=this.getLineItem(t.target),o=e(i,r);this.updateLineItems({items:o})}))})),this.isLineItemEventAttached||(this.isLineItemEventAttached=!0,on("body","click",".c-line-item .js-item-remove-trigger",(t=>{const{item:n,key:r}=this.getLineItem(t.target),i=e(r,0);this.updateLineItems({items:i}),n.classList.add("is-removed"),this.restoreUpsellItem(n)})),on("body","change",".c-line-item .js-variant-selector",(t=>{const n=t.target.closest(".js-variant-selector"),{item:r,key:i}=this.getLineItem(n);r.classList.add("is-variant-updating"),loader.updateProgress(root);const o="INPUT"==n.tagName?!!n.checked&&n.value:n.value,a=validateJson(r.dataset.variantsJson.replace(/'/g,'"').trim()),s=a.findIndex((t=>t.id===o)),c=a[s],l=this.getItemData(r);l.id=c.id,parseInt(l.quantity)>c.inventory&&(l.quantity=c.inventory);const u=()=>{fetch("/cart").then((t=>t.text())).then((t=>{const e=parseHtmlString(t).querySelector(".c-cart .c-line-item:first-child").dataset.itemKey;r.dataset.itemKey=e,((t,e)=>{cProductForm.updatePrice(t,e),cProductForm.updateQuantity(t,e),cProductForm.updateFormId(t,e);const n=t.querySelector(".js-item-thumb img");e.imageSrc&&n&&(n.src=e.imageSrc,n.srcset="")})(r,c),r.classList.remove("is-variant-updating"),loader.complete(root)})).catch((t=>{console.error("Error:",t)}))};this.addItems({items:[l],updateCartContent:!1,updateCartStats:!1,callback:()=>{const t=e(i,0);this.updateLineItems({items:t,callback:u})}})})))},updateCartNote:function(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({note:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateGiftWrap:function(t={}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({attributes:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateDiscount:function(t){function e(t){const e=document.querySelector(".g-minicart__content");[...e.querySelectorAll("button"),...e.querySelectorAll("input")].forEach((e=>t?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")))}e(!0),fetch(`/discount/${t}`).then((()=>fetch("/cart"))).then((t=>t.text())).then((function(t){const e=(new DOMParser).parseFromString(t,"text/html"),n=document.querySelector(".c-cart"),r=e.querySelector(".c-cart"),i=t=>{const e=n.querySelectorAll(t),i=r.querySelectorAll(t);e.length>0&&i.length>0&&e.forEach(((t,e)=>t.innerHTML=i[e].innerHTML))};i(".js-line-item-price"),i(".js-cart-total-price"),function(t,e){const n=e.querySelector(".js-cart-discount-success"),r=t.querySelector(".js-cart-discount"),i=(r.dataset.success,r.dataset.error);if(n&&r)r.outerHTML=n.outerHTML;else if(!n&&r){const t=r.querySelector(".js-cart-discount-input");t.value="",t.placeholder=i}}(n,r)})).catch((t=>{console.error("Error:",t)})).finally((()=>{e(!1)}))},isUpsellInit:!1,upsellProductHandles:[],initUpsell:async function(){const t=document.querySelector(".js-upsell");if(!t)return;const e=document.querySelector(".js-upsell-item-list");null==e.querySelector(".js-upsell-item-form")&&await this.createUpsell(e);const n=this.filterUpsellItems();this.isUpsellInit||(this.isUpsellInit=!0,this.storeUpsellProducts(),this.activeUpsellNavigation(t)),this.toggleUpsellVisibility(n)},createUpsell:async function(t){const e=[...document.querySelectorAll(".js-line-item")]?.map((t=>t.getAttribute("data-product-id")));if(0===e.length)return void document.querySelector(".js-upsell").classList.add("is-no-upsell-items");const n=await this.fetchUpsellItems(e);if(0===n.length)return;const r=this.createUpsellItemCards(n);return r?.forEach((e=>{t?.appendChild(e)})),this.storeUpsellProducts(),this.createUpsellDots(r.length),n},fetchUpsellItems:async function(t){if(0===t.length)return[];return(await Promise.all(t.map((async e=>{const n=await fetch(window.Shopify.routes.root+`recommendations/products.json?product_id=${e}&intent=related`);return[...(await n.json()).products.filter((e=>e.available&&!t.includes(e.id)))]})))).flat().filter(((t,e,n)=>e===n.findIndex((e=>e.id===t.id))))},toggleUpsellVisibility:function(t){const e=document.querySelector(".js-upsell");e&&(e.classList.toggle("has-upsell-items",t?.length>0),e.classList.toggle("is-only-one-upsell-item",1===t?.length))},createUpsellItemCards:function(t){return t.map(((t,e)=>{const n=t.variants.find((t=>t.available)),r=`\n\t\t\t\t<form\n\t\t\t\t\tclass="c-upsell-item c-product-form js-upsell-item-form ${0===e&&"is-active"}"\n\t\t\t\t\taction="/cart/add"\n\t\t\t\t\tmethod="post"\n\t\t\t\t\tdata-product-id="${n.id}"\n\t\t\t\t\tdata-product-handle="${t.handle}"\n\t\t\t\t>\n\t\t\t\t\t<p class="c-upsell-item__header">\n\t\t\t\t\t\tYou may like this\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div class="c-upsell-item__item f-h f-a-s">\n\t\t\t\t\t\t<div class="c-upsell-item__thumb">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref="${t.url}"\n\t\t\t\t\t\t\t\tclass="object-fit bg-subtle"\n\t\t\t\t\t\t\t\ttitle="${t.title}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${t.featured_image?`<img src="${window.Shopify.routes.root+t.featured_image}">`:""}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="c-upsell-item__info f-v">\n\t\t\t\t\t\t\t<div class="c-upsell-item__title">\n\t\t\t\t\t\t\t\t${n.name}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="c-upsell-item__price">\n\t\t\t\t\t\t\t\t$${n.price/100}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\t\t\tclass="c-upsell-item__add btn-underline js-form-submit"\n\t\t\t\t\t\t\t\taria-label="Add item to cart"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="${n.id}">\n\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\t\t\tname="properties[_upsell]"\n\t\t\t\t\t\t\t\tvalue="true"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t`,i=document.createElement("div");return i.innerHTML=r,i.firstElementChild}))},createUpsellDots(t){const e=document.querySelector(".js-upsell-dot-group");t<=1||!e||Array.from({length:t}).forEach(((t,n)=>{const r=document.createElement("button");r.classList="c-cart__upsell__dot js-upsell-dot "+(0===n?"is-active":""),e.appendChild(r)}))},activeUpsellNavigation:function(t){const e=t.querySelector(".js-upsell-arrow"),n=t.querySelector(".js-upsell-dot-group");e?this.activeUpsellArrowNav():n&&this.activeUpsellDotsNav()},activeUpsellArrowNav:function(){let t=0;const e=(t,e)=>t.forEach(((t,n)=>t.classList.toggle("is-active",n===e)));on("body","click",".js-upsell-arrow-left",(()=>{const n=document.querySelectorAll(".js-upsell-item-form");t--,t<0&&(t=n?.length-1),e(n,t)})),on("body","click",".js-upsell-arrow-right",(()=>{const n=document.querySelectorAll(".js-upsell-item-form");t++,t>n?.length-1&&(t=0),e(n,t)}))},activeUpsellDotsNav:function(){on("body","click",".js-upsell-dot",(t=>{const e=document.querySelectorAll(".js-upsell-item-form");e.forEach((t=>t.classList.remove("is-active")));const n=t.target.closest(".js-upsell-dot"),r=Array.from(n.parentNode.children);r.forEach((t=>t.classList.remove("is-active"))),n.classList.add("is-active");e[r.indexOf(n)]?.classList.add("is-active")}))},filterUpsellItems:function(){const t=[...document.querySelectorAll(".js-line-item")],e=[...document.querySelectorAll(".js-upsell-item-form")];if(0==t.length||0==e.length)return;e.filter((e=>t.find((t=>e.getAttribute("data-product-handle")==t.getAttribute("data-product-handle"))))).forEach((t=>t.remove()));const n=document.querySelectorAll(".js-upsell-item-form");n[0]?.classList.add("is-active");const r=document.querySelector(".js-upsell-dot-group");return r&&(r.innerHTML="",this.createUpsellDots(n.length)),n},restoreUpsellItem:function(t){if(null==document.querySelector(".js-upsell"))return;const e=t.getAttribute("data-product-handle");0!=this.upsellProductHandles.includes(e)&&fetch(window.Shopify.routes.root+`products/${e}.js`).then((t=>t.json())).then((t=>{const e=this.createUpsellItemCards([t])[0],n=document.querySelector(".js-upsell-item-list");n.querySelectorAll(".js-upsell-item-form").forEach((t=>t.classList.remove("is-active"))),n.insertBefore(e,n.firstChild);const r=document.querySelector(".js-upsell-dot-group");if(r){r.innerHTML="";const t=document.querySelectorAll(".js-upsell-item-form").length;this.createUpsellDots(t)}const i=document.querySelectorAll(".js-upsell-item-form");this.toggleUpsellVisibility(i)}))},storeUpsellProducts:function(){this.upsellProductHandles.length>0||(this.upsellProductHandles=[...document.querySelectorAll(".js-upsell-item-form")].map((t=>t.getAttribute("data-product-handle"))))},updateFreeShipping:function(t,e){const n=parseFloat(e.dataset.freeshippingThreshold),r=e.querySelector(".js-freeshipping-progress-bar"),i=e.querySelector(".js-freeshipping-diff");e.classList.toggle("is-freeshipping",t>=n);const o=n-t,a=global.formatShopifyMoney(o).replace(".00","").replace(/[^$\d,\.]/g,"");i.innerHTML=a,r.style.width=t>n?"100%":`${(t/n*100).toFixed(0)}%`},getMinicartDom:function(){return document.querySelector(".g-minicart")},minicartClose:function(){root.classList.remove("is-minicart-active"),history.replaceState(null,null," "),scrollEnable(),this.getMinicartDom()?.setAttribute("aria-hidden","true")},minicartOpen:function(){root.classList.add("is-minicart-active"),history.replaceState(null,null,"#cart"),scrollDisable(),this.getMinicartDom()?.setAttribute("aria-hidden","false"),this.updateAriaHiddenInCart()},initMinicart:function(){this.getMinicartDom()?.setAttribute("aria-hidden","true"),on("body","click",".js-minicart-close",this.minicartClose.bind(this)),on("body","click",".js-minicart-open",this.minicartOpen.bind(this)),on("body","click",".js-minicart-toggle",(t=>{root.classList.contains("is-minicart-active")?this.minicartClose():this.minicartOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.minicartClose()})),"#cart"==location.hash&&this.minicartOpen()},updateAriaHiddenInCart:function(t=!1){document.querySelectorAll(".c-cart").forEach((e=>{const n=parseInt(e.dataset?.itemCount,10)||0,r=e.querySelector(".js-cart-empty"),i=e.querySelector(".js-cart-wrapper");t?(r.setAttribute("aria-hidden","true"),i.setAttribute("aria-hidden","true")):(r.setAttribute("aria-hidden",n>0),i.setAttribute("aria-hidden",n<=0))}))},updateFocusableElementsInCart:function(t,e){t&&(t.querySelector(".js-cart-empty").setAttribute("aria-hidden",e>0),t.querySelector(".js-cart-wrapper").setAttribute("aria-hidden",e<=0))},observeAriaHiddenChanges:function(){const t=this.getMinicartDom();if(!t)return;new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"aria-hidden"===e.attributeName){const e="true"===t.getAttribute("aria-hidden");this.updateAriaHiddenInCart(e)}}))})).observe(t,{attributes:!0,attributeFilter:["aria-hidden"]})},init:function(){on("body","submit",'form[action="/cart/add"]',(t=>{t.preventDefault();const e=t.target.closest('form[action="/cart/add"]'),n=this.getItemData(e);loader.updateProgress(root),this.addItems({items:[n],callback:()=>{loader.complete(root),this.minicartOpen()}})})),this.observeAriaHiddenChanges(),on("body","change",".js-cart-note-text",(t=>{const e=document.querySelector(".js-cart-note-checkbox"),n=t.target.value;n&&e.checked&&this.updateCartNote(n)})),on("body","change",".js-cart-note-checkbox",(t=>{const e=document.querySelector(".js-cart-note-text");t.target.checked?(e.classList.add("is-active"),this.updateCartNote(e.value)):(e.classList.remove("is-active"),this.updateCartNote(""))})),on("body","change",".js-cart-gift-wrap-checkbox",(t=>{const e=t.target.closest(".js-cart-gift-wrap-checkbox").checked?{"Gift wrap":"Yes"}:{"Gift wrap":"No"};this.updateGiftWrap(e)})),on("body","submit",".js-cart-discount",(t=>{t.preventDefault();const e=t.target.querySelector(".js-cart-discount-input").value;this.updateDiscount(e)})),this.initLineItem(),this.initUpsell(),this.initMinicart()}},cInfiniteScroll={createNewInfiniteScroll(t){let e=t.dataset.infiniteScrollId,n=InfiniteScroll.data(`.js-infinite-scroll-grid-${e}`);return n&&n.destroy(),new InfiniteScroll(`.js-infinite-scroll-grid-${e}`,{path:`.js-infinite-scroll-next-${e}`,append:`.js-infinite-scroll-item-${e}`,button:`.js-load-more-btn-${e}`,scrollThreshold:!1,history:!1})},computeProgressBarWidth(t,e){const n=document.querySelector(".js-progress-bar");n&&(n.style.width=`${Math.round(t/e*100)}%`)},computeCount(t){const e=t.querySelector(".js-pagination");return{maxItemCount:parseInt(e.dataset.itemCount),paginateCount:parseInt(e.dataset.paginateCount)}},init(){document.querySelector('[class^="js-infinite-scroll-next-"]')?document.querySelectorAll(".js-infinite-scroll").forEach((t=>{let e=cInfiniteScroll.createNewInfiniteScroll(t);t.querySelector(".c-pagination__end-message");const{maxItemCount:n,paginateCount:r}=cInfiniteScroll.computeCount(t);let i=r;cInfiniteScroll.computeProgressBarWidth(i,n),e.on("request",(()=>{loader.updateProgress(root)})),e.on("append",(()=>{loader.complete(root),i=Math.min(i+r,n);if(t.querySelector(".js-viewed-count").innerText=i,cInfiniteScroll.computeProgressBarWidth(i,n),i==n){t.querySelector(".js-pagination").classList.add("is-max-items")}})),e.on("error",(()=>{loader.complete(root)})),e.on("last",(()=>{loader.complete(root)}))})):cInfiniteScroll.computeProgressBarWidth(1,1)}},cFiltersSort={getPriceRangeSelections:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="number"]').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getFiltersSelection:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="checkbox"]:checked').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getSortSelection:function(t){const e=t.closest(".c-filters-sort").querySelector("select");return!(!e||"manual"==e.value)&&e.value},getFilterSortUrl:function(t){const e=this.getPriceRangeSelections(t).map((t=>`${t.name}=${t.value}`)).join("&"),n=this.getFiltersSelection(t).map((t=>`${t.name}=${t.value}`)).join("&"),r=this.getSortSelection(t),i=!!r&&`sort_by=${r}`,o=[];e&&o.push(e),n&&o.push(n),i&&o.push(i);return encodeURI(o.join("&"))},updateFilterSort:function({urlParamString:t,elTarget:e,replaceState:n,reinitPanel:r=!1}){loader.updateProgress(root),root.classList.add("is-filters-sort-updating");const i=new URLSearchParams(window.location.search),o=new URLSearchParams;for(const[t,e]of i.entries())t.includes("filter")||t.includes("sort_by")||o.append(t,e);const a=[Array.from(o).map((t=>`${t[0]}=${t[1]}`)).join("&"),t].filter(Boolean).join("&"),s=encodeURI(a);fetch(`?${s}`).then((t=>t.text())).then((t=>{const n=parseHtmlString(t),i=Array.from(n.querySelectorAll(".js-filters-sort-update")),o=e?e.closest(".js-filters-sort-update"):null;if(document.querySelectorAll(".js-filters-sort-update").forEach(((t,e)=>{t!=o&&i[e]&&(t.innerHTML=i[e].innerHTML)})),r){const t=document.querySelector(".js-filters-sort-panel");this.panelUpdate(t)}this.panelFilterSortUpdate(),loader.complete(root),root.classList.remove("is-filters-sort-updating"),cInfiniteScroll.init()})).catch((t=>{console.error("Error:",t)})),n?window.history.replaceState({},"",`?${s}`):window.history.pushState({},"",`?${s}`)},updateSortCurrent:function(t){const e=t.closest(".js-filters-sort-dropdown-sorting");e&&(e.querySelector(".js-filter-dropdown-toggle").dataset.current="manual"==t.value?"":`: ${t.options[t.selectedIndex].text}`)},panelClose:function(){root.classList.remove("is-filters-sort-panel-active")},panelOpen:function(){root.classList.add("is-filters-sort-panel-active")},panelFilterSortUpdate:function(){const t=document.querySelectorAll(".c-filters-sort__selection .js-filters-sort-update");document.querySelectorAll(".js-filters-sort-panel-body .js-filters-sort-update").forEach(((e,n)=>{e.innerHTML=t[n].innerHTML})),document.querySelector(".c-filters-sort .js-filters-sort-panel-active").innerHTML=document.querySelector(".c-filters-sort .js-filters-sort-active").innerHTML},panelUpdate:function(t){if(!t)return!1;const e=t.querySelector(".js-filters-sort-panel-body");e.innerHTML="",document.querySelectorAll(".c-filters-sort .js-filters-sort-dropdown").forEach((t=>{const n=t.cloneNode(!0);e.appendChild(n)})),t.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{t.classList.remove("tablet-up-only"),t.querySelectorAll("input").forEach((t=>{t.id=`panel-${t.id}`})),t.querySelectorAll("label").forEach((t=>{t.htmlFor=`panel-${t.htmlFor}`}))}))},initPanel:function(){const t=document.querySelector(".js-filters-sort-panel"),e=t.cloneNode(!0);e.classList.add("c-filters-sort"),document.body.appendChild(e),t.remove(),this.panelUpdate(e),this.panelFilterSortUpdate(),on("body","click",".js-filters-sort-panel-close",this.panelClose),on("body","click",".js-filters-sort-panel-open",this.panelOpen),on("body","click",".js-filters-sort-panel-toggle",(t=>{root.classList.contains("is-filters-sort-panel-active")?this.panelClose():this.panelOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.panelClose()}))},init:function(){document.querySelector(".js-filters-sort-panel")&&this.initPanel(),on("body","click","body",(t=>{const e=t.target,n=e.closest(".js-filter-dropdown-toggle");document.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{const r=t.querySelector(".js-filter-dropdown-toggle");n&&n==r?t.classList.toggle("is-dropdown-active"):!e.closest(".js-filters-sort-dropdown-content")&&t.classList.remove("is-dropdown-active")}))})),on("body","change",".js-filter-input",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","click",".js-filter-apply",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","submit",".js-filter-form",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","change",".js-sort-selector",(t=>{const e=t.target.closest("select");this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:e}),this.updateSortCurrent(e)})),window.addEventListener("popstate",(t=>{document.querySelector(".js-filter-form")&&this.updateFilterSort({urlParamString:location.search.replace("?",""),replaceState:!0})})),on("body","click",".js-filter-remove",(t=>{t.preventDefault();const e=t.target.closest(".js-filter-remove"),n=e.dataset.url.replace(`${location.pathname}`,"").replace("?","");e.remove(),this.updateFilterSort({urlParamString:n,elTarget:e,reinitPanel:!0})})),on("body","click",".js-filter-remove-all",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:null,reinitPanel:!0})}))}},gAnnouncement={announcement:document.querySelector(".g-announcement"),dots:document.querySelector(".g-announcement .js-announcement-dots"),disableAutoplay:function(){this.announcement.classList.add("is-autoplay-disabled")},enableAutoplay:function(){this.announcement.classList.remove("is-autoplay-disabled")},autoplayInterval:null,autoplay:function(){if(!this.dots||!this.dots.dataset.autoplay)return!1;const t=this.dots.querySelectorAll("[data-announcement-trigger]"),e=parseInt(this.dots.dataset.autoplayInterval);on("body","mouseover",".g-announcement",(()=>{this.disableAutoplay()})),on("body","mouseout",".g-announcement",(()=>{this.enableAutoplay()})),this.autoplayInterval=setInterval((()=>{if(this.announcement.classList.contains("is-autoplay-disabled"))return!1;const e=this.dots.querySelector("[data-announcement-trigger].is-active"),n=parseInt(e.dataset.announcementTrigger),r=n<t.length-1?n+1:0;this.updateActiveMessage(r)}),1e3*e)},updateAnnouncementHeight:function(){const t=this.announcement.querySelector(".js-announcement-block.is-active");t&&(this.announcement.querySelector(".js-announcement-blocks").style.height=`${t.offsetHeight}px`),root.style.setProperty("--s-announcement-dynamic",`${this.announcement?this.announcement.offsetHeight:0}px`)},updateActiveMessage:function(t){this.announcement.querySelectorAll(".js-announcement-block").forEach(((e,n)=>{n==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.announcement.querySelectorAll("[data-announcement-trigger]").forEach(((e,n)=>{n==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.updateAnnouncementHeight()},init:function(){this.announcement&&this.announcement.children.length>0&&(this.autoplay(),this.updateAnnouncementHeight(),on("body","click","[data-announcement-trigger]",(t=>{const e=t.target.closest("[data-announcement-trigger]"),n=parseInt(e.dataset.announcementTrigger);this.updateActiveMessage(n),clearInterval(this.autoplayInterval)})))}},pAccount={recoverClose:function(){root.classList.remove("is-account-recover-active"),history.replaceState(null,null," ");const t=document.querySelector("#account-recover-email");autoFocus&&t&&t.blur()},recoverOpen:function(t=!0){root.classList.add("is-account-recover-active"),history.replaceState(null,null,"#recover");const e=document.querySelector("#account-recover-email");t&&e&&e.focus()},init:function(){on("body","click",".js-account-recover-close",this.recoverClose),on("body","click",".js-account-recover-open",this.recoverOpen),on("body","click",".js-account-recover-toggle",(t=>{root.classList.contains("is-account-recover-active")?this.recoverClose():this.recoverOpen()})),"#recover"==location.hash&&this.recoverOpen(!1)}};cWysiwygShopify.init(),cItemVariants.init(),cItemSellingPlan.init(),cItemQuantity.init(),cProductForm.init(),cCart.init(),cFiltersSort.init(),gAnnouncement.init(),pAccount.init(),document.addEventListener("DOMContentLoaded",(()=>{cInfiniteScroll.init(),ariaFocusManager.init()}));