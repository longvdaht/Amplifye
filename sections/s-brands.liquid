{% schema %}
{
	"name": "Brands",
	"tag": "section",
	"class": "s-brands p-x-max",
	"presets": [
		{
			"name": "Brands",
			"blocks": [
				{
					"type": "logo",
					"settings": {
						"logo": "shopify://shop_images/the-ny-times_1.png"
					}
				},
				{
					"type": "logo",
					"settings": {
						"logo": "shopify://shop_images/health_1.png"
					}
				},
				{
					"type": "logo",
					"settings": {
						"logo": "shopify://shop_images/vogue_1.png"
					}
				}
			]
		}
	],
	"settings": [
		{
			"type": "text",
			"id": "heading",
			"label": "Heading",
			"default": "Featured In"
		},
		{
			"type": "header",
			"content": "Padding"
		},
		{
			"type": "range",
			"id": "padding_top",
			"label": "Padding Top (px)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 15
		},
		{
			"type": "range",
			"id": "padding_right",
			"label": "Padding Right (px)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 15
		},
		{
			"type": "range",
			"id": "padding_bottom",
			"label": "Padding Bottom (px)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 15
		},
		{
			"type": "range",
			"id": "padding_left",
			"label": "Padding Left (px)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 30
		},
		{
			"type": "header",
			"content": "Padding (Mobile)"
		},
		{
			"type": "range",
			"id": "padding_top_mobile",
			"label": "Padding Top (Mobile)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 20
		},
		{
			"type": "range",
			"id": "padding_right_mobile",
			"label": "Padding Right (Mobile)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 0
		},
		{
			"type": "range",
			"id": "padding_bottom_mobile",
			"label": "Padding Bottom (Mobile)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 20
		},
		{
			"type": "range",
			"id": "padding_left_mobile",
			"label": "Padding Left (Mobile)",
			"min": 0,
			"max": 200,
			"step": 5,
			"default": 0
		},
	],
	"blocks": [
		{
			"type": "logo",
			"name": "Logo",
			"settings": [
				{
					"type": "image_picker",
					"id": "logo",
					"label": "Logo"
				}
			]
		}
	]
}
{% endschema %}

{% style %}
	{% liquid
		assign padding_top = section.settings.padding_top
		assign padding_right = section.settings.padding_right
		assign padding_bottom = section.settings.padding_bottom
		assign padding_left = section.settings.padding_left

		assign padding_top_mobile = section.settings.padding_top_mobile
		assign padding_right_mobile = section.settings.padding_right_mobile
		assign padding_bottom_mobile = section.settings.padding_bottom_mobile
		assign padding_left_mobile = section.settings.padding_left_mobile
	%}

	#shopify-section-{{ section.id }} .s-brands__content {
		padding: {{ padding_top }}px {{ padding_right }}px {{ padding_bottom }}px {{ padding_left }}px
	}

	@media (max-width: 600px) {
		#shopify-section-{{ section.id }} .s-brands__content {
			padding: {{ padding_top_mobile }}px {{ padding_right_mobile }}px {{ padding_bottom_mobile }}px {{ padding_left_mobile }}px
		}
	}
	{% endstyle %}
{%- liquid
	assign heading = section.settings.heading
-%}
{%- if section.blocks.size > 0 -%}
	<div class="s-brands__content f-h f-a-c">
		{%- if heading != blank -%}
			<h2 class="s-brands__heading t-l-5">{{ heading }}</h2>
		{%- endif -%}

		<div class="s-brands__marquee">
			{%- capture slider_html -%}
				{%- for block in section.blocks -%}
					{%- liquid
						assign logo = block.settings.logo
					-%}

					{%- if logo != null -%}
						<div class="s-brands__slide c-slider__slide f-h f-j-c f-a-c">
							<div class="s-brands__logo child-contain">
								{%- render 'c-img-srcset',
									image: logo,
									alt: logo.alt
								-%}
							</div>
						</div>
					{%- endif -%}
				{%- endfor -%}
				{%- for block in section.blocks -%}
					{%- liquid
						assign logo = block.settings.logo
					-%}

					{%- if logo != null -%}
						<div class="s-brands__slide c-slider__slide f-h f-j-c f-a-c">
							<div class="s-brands__logo child-contain">
								{%- render 'c-img-srcset',
									image: logo,
									alt: logo.alt
								-%}
							</div>
						</div>
					{%- endif -%}
				{%- endfor -%}
			{%- endcapture -%}

			{%- render 'c-slider',
				slider_html: slider_html,
				custom_slides_size: '--slide-size: 20%; --slide-gap: 50px;',
				slider_options: "{'loop': true, 'watchDrag': false}",
				enable_autoscroll: true,
				enable_wheel: true,
				autoscroll_speed: 1
			-%}
		</div>
	</div>
{%- endif -%}
