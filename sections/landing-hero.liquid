{% schema %}
{
	"name": "Landing Hero",
	"tag": "section",
	"class": "frontpage-hero p-y-section p-x-lg f-v f-j-c js-frontpage-hero",
	"settings": [
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
		{
			"type": "text",
			"id": "subheading",
			"label": "Subheading"
		},
		{
			"type": "text",
			"id": "cta_label",
			"label": "CTA Label"
		},
		{
			"type": "url",
			"id": "cta_url",
			"label": "CTA URL"
		},
		{
			"type": "image_picker",
			"id": "background_image",
			"label": "Background Image"
		},
		{
			"type": "image_picker",
			"id": "background_image_mobile",
			"label": "Background Image (mobile)"
		},
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        }
	]
}
{% endschema %}

<style>
    .landing-hero__text {
        color: #FFFFFF;
    }
  
    .product-hero__form.simple-product-form .c-product-form__cta {
      width: auto;
    }
</style>

{%- liquid
	assign heading = section.settings.heading
	assign subheading = section.settings.subheading
    if section.settings.cta_label != blank
    	assign cta_label = section.settings.cta_label
    else
       assign cta_label = 'Add to Cart'
    endif
	assign cta_url = section.settings.cta_url
	assign background_image = section.settings.background_image
	assign background_image_mobile = section.settings.background_image_mobile

    if section.settings.product != blank
      assign product = section.settings.product
    else
      assign product = all_products['amplifye-p24']
    endif
-%}

{%- if background_image != null -%}
	<div class="frontpage-hero__image p-fill">
		<span class="object-fit">
			{%- render 'c-img-srcset',
				image: background_image,
				responsive_image: background_image_mobile,
				alt: background_image.alt
			-%}
		</span>
	</div>
{%- endif %}

<div class="frontpage-hero__text landing-hero__text wysiwyg-large">
	{%- if heading != blank -%}
		<h1 class="frontpage-hero__heading t-h-1">
			{{ heading }}
		</h1>
	{%- endif -%}
	{%- if subheading != blank -%}
		<p class="frontpage-hero__subheading t-b-1">
			{{ subheading }}
		</p>
	{%- endif -%}

    {% comment %}
	{%- if cta_label != blank and cta_url != blank -%}
		<a
			class="btn cr-orange hover-white"
			href="{{- cta_url -}}"
		>
			<span>
				{{- cta_label -}}
			</span>
		</a>
	{%- endif -%}
    {% endcomment %}
    
    {%- if cta_label != blank -%}
      {%- if cta_url != blank  -%}
      	<a
      		class="frontpage-intro__cta btn hover-white"
      		href="{{- cta_url -}}"
      	>
      		<span>
      			{{- cta_label -}}
      		</span>
      	</a>
      {%- else -%}
        <div class="product-hero__form simple-product-form">
            {% render 'simple-product-form', product: product, item: product, is_update_variant_url: true, cta_label: cta_label, button_class: 'cr-orange hover-white'  %}
        </div>
      {%- endif -%}
    {%- endif -%}
</div>
